# Environment Configuration for Paperless-Firefly Pipeline (Spark v1.0)
# Copy this file to .env and fill in your values

# =============================================================================
# PAPERLESS CONNECTION
# =============================================================================
# Base URL of your Paperless-ngx instance (no trailing slash)
PAPERLESS_URL=http://paperless.local:8000

# API token from Paperless-ngx (Settings → Users → Edit → Token)
PAPERLESS_TOKEN=your-paperless-api-token-here

# Tag used to identify finance documents for processing
PAPERLESS_FILTER_TAG=finance/inbox

# External URL for browser links (if different from internal URL)
# PAPERLESS_EXTERNAL_URL=http://paperless.local:8000

# =============================================================================
# FIREFLY III CONNECTION
# =============================================================================
# Base URL of your Firefly III instance (no trailing slash)
FIREFLY_URL=http://firefly.local:8080

# Personal Access Token from Firefly III (Profile → OAuth → Personal Access Tokens)
FIREFLY_TOKEN=your-firefly-api-token-here

# Default asset account for transactions (must exist in Firefly III)
FIREFLY_DEFAULT_ACCOUNT=Checking Account

# External URL for browser links (if different from internal URL)
# FIREFLY_EXTERNAL_URL=http://firefly.local:8080

# =============================================================================
# CONFIDENCE THRESHOLDS
# =============================================================================
# Minimum confidence for automatic import (0.0 - 1.0)
# Documents above this threshold are imported without human review
CONFIDENCE_AUTO_THRESHOLD=0.85

# Minimum confidence for review queue (0.0 - 1.0)
# Documents below this are flagged as low-quality and need careful review
CONFIDENCE_REVIEW_THRESHOLD=0.60

# =============================================================================
# SPARK RECONCILIATION (v1.0)
# =============================================================================
# Minimum match score for automatic linking (0.0 - 1.0)
# Matches above this are auto-linked without review
SPARK_RECONCILIATION_AUTO_THRESHOLD=0.92

# Minimum match score for review queue (0.0 - 1.0)
# Matches below this are rejected automatically
SPARK_RECONCILIATION_REVIEW_THRESHOLD=0.70

# How long to cache Firefly transactions (hours)
SPARK_CACHE_TTL_HOURS=24

# =============================================================================
# SPARK LLM INTEGRATION (v1.0, Optional)
# =============================================================================
# URL of Ollama API (leave empty to disable LLM features)
# OLLAMA_URL=http://ollama:11434

# Model to use for categorization assistance
OLLAMA_MODEL=llama3.2:3b

# Enable LLM features (requires OLLAMA_URL)
SPARK_LLM_ENABLED=false

# Global opt-out of LLM processing (disables all LLM features)
SPARK_LLM_OPT_OUT=false

# Cache TTL for LLM responses (days)
SPARK_LLM_CACHE_TTL_DAYS=30

# Ollama container port (only used with llm profile)
# OLLAMA_PORT=11434

# =============================================================================
# SERVER SETTINGS
# =============================================================================
# Port to expose the web review interface
PF_PORT=8080

# Django secret key (CHANGE IN PRODUCTION!)
# DJANGO_SECRET_KEY=your-secret-key-here

# Default admin credentials
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=

# =============================================================================
# OPTIONAL SERVICE LINKS (for landing page)
# =============================================================================
# Links shown on the landing page for quick access
# SYNCTHING_URL=http://syncthing.local:8384
# FIREFLY_IMPORTER_URL=http://importer.local:8081
